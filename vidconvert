#!/usr/bin/python

import os
import subprocess
mkv = False
avi = False

def convert():
    for filename in os.listdir(os.curdir):
        if filename.endswith('mkv'):
            new_filename = filename
            new_filename = new_filename.replace("mkv", "mp4")
            subprocess.run(['ffmpeg', '-i', filename, '-codec', 'copy', new_filename])
            mkv = True #if atleast one mkv file ist converted
            # mkv
        elif filename.endswith('avi'):
            new_filename = filename
            new_filename = new_filename.replace("avi", "mp4")
            subprocess.run(['ffmpeg', '-i', filename, new_filename])
            avi = True #if atleast one avi file ist converted
            # avi
        else:
            continue

def add_folder(used, vid_type): #creates folder if the filetype given was converted
    if used:
        try:
            os.mkdir(vid_type)
            print("Directory ", vid_type, " created")
        except FileExistsError:
            print("Directory", vid_type, " already exists")


convert()
add_folder(mkv, 'mkv')
add_folder(avi, 'avi')
add_folder(True, 'mp4')

